<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>10.3. stat — Interpreting stat() results &mdash; Jython v2.5.2 documentation</title>
    <link rel="stylesheet" href="../_static/green-theme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.5.2',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="top" title="Jython v2.5.2 documentation" href="../index.html" />
    <link rel="up" title="10. File and Directory Access" href="filesys.html" />
    <link rel="next" title="10.4. filecmp — File and Directory Comparisons" href="filecmp.html" />
    <link rel="prev" title="10.2. fileinput — Iterate over lines from multiple input streams" href="fileinput.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../modindex.html" title="Global Module Index"
             accesskey="M">modules</a> |</li>
        <li class="right" >
          <a href="filecmp.html" title="10.4. filecmp — File and Directory Comparisons"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="fileinput.html" title="10.2. fileinput — Iterate over lines from multiple input streams"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Jython v2.5.2 documentation</a> &raquo;</li>
          <li><a href="indexprogress.html" >The Python Standard Library and What Comes with Jython</a> &raquo;</li>
          <li><a href="filesys.html" accesskey="U">10. File and Directory Access</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/jython.png" alt="Logo"/>
            </a></p>
            <h4>Previous topic</h4>
            <p class="topless"><a href="fileinput.html"
                                  title="previous chapter">10.2. <tt class="docutils literal docutils literal docutils literal"><span class="pre">fileinput</span></tt> &#8212; Iterate over lines from multiple input streams</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="filecmp.html"
                                  title="next chapter">10.4. <tt class="docutils literal docutils literal"><span class="pre">filecmp</span></tt> &#8212; File and Directory Comparisons</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../_sources/library/stat.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="stat-interpreting-stat-results">
<h1>10.3. <tt class="docutils literal"><span class="pre">stat</span></tt> &#8212; Interpreting <tt class="docutils literal"><span class="pre">stat()</span></tt> results<a class="headerlink" href="#stat-interpreting-stat-results" title="Permalink to this headline">¶</a></h1>
<p>The <tt class="docutils literal"><span class="pre">stat</span></tt> module defines constants and functions for interpreting
the results of <tt class="docutils literal"><span class="pre">os.stat()</span></tt>, <tt class="docutils literal"><span class="pre">os.fstat()</span></tt> and <tt class="docutils literal"><span class="pre">os.lstat()</span></tt> (if
they exist).  For complete details about the <tt class="docutils literal"><span class="pre">stat()</span></tt>, <tt class="docutils literal"><span class="pre">fstat()</span></tt>
and <tt class="docutils literal"><span class="pre">lstat()</span></tt> calls, consult the documentation for your system.</p>
<p>The <tt class="docutils literal"><span class="pre">stat</span></tt> module defines the following functions to test for
specific file types:</p>
<p>stat.S_ISDIR(mode)</p>
<blockquote>
Return non-zero if the mode is from a directory.</blockquote>
<p>stat.S_ISCHR(mode)</p>
<blockquote>
Return non-zero if the mode is from a character special device
file.</blockquote>
<p>stat.S_ISBLK(mode)</p>
<blockquote>
Return non-zero if the mode is from a block special device file.</blockquote>
<p>stat.S_ISREG(mode)</p>
<blockquote>
Return non-zero if the mode is from a regular file.</blockquote>
<p>stat.S_ISFIFO(mode)</p>
<blockquote>
Return non-zero if the mode is from a FIFO (named pipe).</blockquote>
<p>stat.S_ISLNK(mode)</p>
<blockquote>
Return non-zero if the mode is from a symbolic link.</blockquote>
<p>stat.S_ISSOCK(mode)</p>
<blockquote>
Return non-zero if the mode is from a socket.</blockquote>
<p>Two additional functions are defined for more general manipulation of
the file&#8217;s mode:</p>
<p>stat.S_IMODE(mode)</p>
<blockquote>
Return the portion of the file&#8217;s mode that can be set by
<tt class="docutils literal"><span class="pre">os.chmod()</span></tt>&#8212;that is, the file&#8217;s permission bits, plus the
sticky bit, set-group-id, and set-user-id bits (on systems that
support them).</blockquote>
<p>stat.S_IFMT(mode)</p>
<blockquote>
Return the portion of the file&#8217;s mode that describes the file type
(used by the <tt class="docutils literal"><span class="pre">S_IS*()</span></tt> functions above).</blockquote>
<p>Normally, you would use the <tt class="docutils literal"><span class="pre">os.path.is*()</span></tt> functions for testing
the type of a file; the functions here are useful when you are doing
multiple tests of the same file and wish to avoid the overhead of the
<tt class="docutils literal"><span class="pre">stat()</span></tt> system call for each test.  These are also useful when
checking for information about a file that isn&#8217;t handled by
<tt class="docutils literal"><span class="pre">os.path</span></tt>, like the tests for block and character devices.</p>
<p>All the variables below are simply symbolic indexes into the 10-tuple
returned by <tt class="docutils literal"><span class="pre">os.stat()</span></tt>, <tt class="docutils literal"><span class="pre">os.fstat()</span></tt> or <tt class="docutils literal"><span class="pre">os.lstat()</span></tt>.</p>
<p>stat.ST_MODE</p>
<blockquote>
Inode protection mode.</blockquote>
<p>stat.ST_INO</p>
<blockquote>
Inode number.</blockquote>
<p>stat.ST_DEV</p>
<blockquote>
Device inode resides on.</blockquote>
<p>stat.ST_NLINK</p>
<blockquote>
Number of links to the inode.</blockquote>
<p>stat.ST_UID</p>
<blockquote>
User id of the owner.</blockquote>
<p>stat.ST_GID</p>
<blockquote>
Group id of the owner.</blockquote>
<p>stat.ST_SIZE</p>
<blockquote>
Size in bytes of a plain file; amount of data waiting on some
special files.</blockquote>
<p>stat.ST_ATIME</p>
<blockquote>
Time of last access.</blockquote>
<p>stat.ST_MTIME</p>
<blockquote>
Time of last modification.</blockquote>
<p>stat.ST_CTIME</p>
<blockquote>
The &#8220;ctime&#8221; as reported by the operating system.  On some systems
(like Unix) is the time of the last metadata change, and, on others
(like Windows), is the creation time (see platform documentation
for details).</blockquote>
<p>The interpretation of &#8220;file size&#8221; changes according to the file type.
For plain files this is the size of the file in bytes.  For FIFOs and
sockets under most flavors of Unix (including Linux in particular),
the &#8220;size&#8221; is the number of bytes waiting to be read at the time of
the call to <tt class="docutils literal"><span class="pre">os.stat()</span></tt>, <tt class="docutils literal"><span class="pre">os.fstat()</span></tt>, or <tt class="docutils literal"><span class="pre">os.lstat()</span></tt>; this can
sometimes be useful, especially for polling one of these special files
after a non-blocking open.  The meaning of the size field for other
character and block devices varies more, depending on the
implementation of the underlying system call.</p>
<p>The variables below define the flags used in the <tt class="docutils literal"><span class="pre">ST_MODE</span></tt> field.</p>
<p>Use of the functions above is more portable than use of the first set
of flags:</p>
<p>stat.S_IFMT</p>
<blockquote>
Bit mask for the file type bit fields.</blockquote>
<p>stat.S_IFSOCK</p>
<blockquote>
Socket.</blockquote>
<p>stat.S_IFLNK</p>
<blockquote>
Symbolic link.</blockquote>
<p>stat.S_IFREG</p>
<blockquote>
Regular file.</blockquote>
<p>stat.S_IFBLK</p>
<blockquote>
Block device.</blockquote>
<p>stat.S_IFDIR</p>
<blockquote>
Directory.</blockquote>
<p>stat.S_IFCHR</p>
<blockquote>
Character device.</blockquote>
<p>stat.S_IFIFO</p>
<blockquote>
FIFO.</blockquote>
<p>The following flags can also be used in the <em>mode</em> argument of
<tt class="docutils literal"><span class="pre">os.chmod()</span></tt>:</p>
<p>stat.S_ISUID</p>
<blockquote>
Set UID bit.</blockquote>
<p>stat.S_ISGID</p>
<blockquote>
Set-group-ID bit.  This bit has several special uses.  For a
directory it indicates that BSD semantics is to be used for that
directory: files created there inherit their group ID from the
directory, not from the effective group ID of the creating process,
and directories created there will also get the <tt class="docutils literal"><span class="pre">S_ISGID</span></tt> bit
set.  For a file that does not have the group execution bit
(<tt class="docutils literal"><span class="pre">S_IXGRP</span></tt>) set, the set-group-ID bit indicates mandatory
file/record locking (see also <tt class="docutils literal"><span class="pre">S_ENFMT</span></tt>).</blockquote>
<p>stat.S_ISVTX</p>
<blockquote>
Sticky bit.  When this bit is set on a directory it means that a
file in that directory can be renamed or deleted only by the owner
of the file, by the owner of the directory, or by a privileged
process.</blockquote>
<p>stat.S_IRWXU</p>
<blockquote>
Mask for file owner permissions.</blockquote>
<p>stat.S_IRUSR</p>
<blockquote>
Owner has read permission.</blockquote>
<p>stat.S_IWUSR</p>
<blockquote>
Owner has write permission.</blockquote>
<p>stat.S_IXUSR</p>
<blockquote>
Owner has execute permission.</blockquote>
<p>stat.S_IRWXG</p>
<blockquote>
Mask for group permissions.</blockquote>
<p>stat.S_IRGRP</p>
<blockquote>
Group has read permission.</blockquote>
<p>stat.S_IWGRP</p>
<blockquote>
Group has write permission.</blockquote>
<p>stat.S_IXGRP</p>
<blockquote>
Group has execute permission.</blockquote>
<p>stat.S_IRWXO</p>
<blockquote>
Mask for permissions for others (not in group).</blockquote>
<p>stat.S_IROTH</p>
<blockquote>
Others have read permission.</blockquote>
<p>stat.S_IWOTH</p>
<blockquote>
Others have write permission.</blockquote>
<p>stat.S_IXOTH</p>
<blockquote>
Others have execute permission.</blockquote>
<p>stat.S_ENFMT</p>
<blockquote>
System V file locking enforcement.  This flag is shared with
<tt class="docutils literal"><span class="pre">S_ISGID</span></tt>: file/record locking is enforced on files that do not
have the group execution bit (<tt class="docutils literal"><span class="pre">S_IXGRP</span></tt>) set.</blockquote>
<p>stat.S_IREAD</p>
<blockquote>
Unix V7 synonym for <tt class="docutils literal"><span class="pre">S_IRUSR</span></tt>.</blockquote>
<p>stat.S_IWRITE</p>
<blockquote>
Unix V7 synonym for <tt class="docutils literal"><span class="pre">S_IWUSR</span></tt>.</blockquote>
<p>stat.S_IEXEC</p>
<blockquote>
Unix V7 synonym for <tt class="docutils literal"><span class="pre">S_IXUSR</span></tt>.</blockquote>
<p>Example:</p>
<blockquote>
<p>import os, sys
from stat import *</p>
<dl class="docutils">
<dt>def walktree(top, callback):</dt>
<dd><dl class="first last docutils">
<dt>&#8216;&#8217;&#8216;recursively descend the directory tree rooted at top,</dt>
<dd>calling the callback function for each regular file&#8217;&#8216;&#8217;</dd>
<dt>for f in os.listdir(top):</dt>
<dd><p class="first">pathname = os.path.join(top, f)
mode = os.stat(pathname)[ST_MODE]
if S_ISDIR(mode):</p>
<blockquote>
# It&#8217;s a directory, recurse into it
walktree(pathname, callback)</blockquote>
<dl class="last docutils">
<dt>elif S_ISREG(mode):</dt>
<dd># It&#8217;s a file, call the callback function
callback(pathname)</dd>
<dt>else:</dt>
<dd># Unknown file type, print a message
print &#8216;Skipping %s&#8217; % pathname</dd>
</dl>
</dd>
</dl>
</dd>
<dt>def visitfile(file):</dt>
<dd>print &#8216;visiting&#8217;, file</dd>
<dt>if __name__ == &#8216;__main__&#8217;:</dt>
<dd>walktree(sys.argv[1], visitfile)</dd>
</dl>
</blockquote>
</div>


          </div>
        </div>
      </div>


      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../modindex.html" title="Global Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="filecmp.html" title="10.4. filecmp — File and Directory Comparisons"
             >next</a> |</li>
        <li class="right" >
          <a href="fileinput.html" title="10.2. fileinput — Iterate over lines from multiple input streams"
             >previous</a> |</li>
        <li><a href="../index.html">Jython v2.5.2 documentation</a> &raquo;</li>
          <li><a href="indexprogress.html" >The Python Standard Library and What Comes with Jython</a> &raquo;</li>
          <li><a href="filesys.html" >10. File and Directory Access</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
      &copy; <a href="../copyright.html">Copyright</a> 2011, Jython Project.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.4.
    </div>
  </body>
</html>