<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>22. Jython Developer FAQ &mdash; Jython Developer&#39;s Guide </title>
    
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Jython Developer&#39;s Guide " href="index.html" />
    <link rel="next" title="23. How To Release Jython" href="releasejython.html" />
    <link rel="prev" title="21. Emacs support" href="emacs.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="releasejython.html" title="23. How To Release Jython"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="emacs.html" title="21. Emacs support"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Jython Developer&#39;s Guide </a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="jython-developer-faq">
<span id="faq"></span><h1>22. Jython Developer FAQ<a class="headerlink" href="#jython-developer-faq" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#communications" id="id8">Communications</a><ul>
<li><a class="reference internal" href="#where-should-i-ask-general-jython-questions" id="id9">Where should I ask general Jython questions?</a></li>
<li><a class="reference internal" href="#where-should-i-suggest-new-features-and-language-changes" id="id10">Where should I suggest new features and language changes?</a></li>
<li><a class="reference internal" href="#where-should-i-ask-general-questions-about-contributing-to-jython" id="id11">Where should I ask general questions about contributing to Jython?</a></li>
<li><a class="reference internal" href="#where-should-i-report-specific-problems" id="id12">Where should I report specific problems?</a></li>
<li><a class="reference internal" href="#what-if-i-m-not-sure-it-is-a-bug" id="id13">What if I&#8217;m not sure it is a bug?</a></li>
<li><a class="reference internal" href="#what-if-i-disagree-with-an-issue-resolution-on-the-tracker" id="id14">What if I disagree with an issue resolution on the tracker?</a></li>
<li><a class="reference internal" href="#how-do-i-tell-who-is-and-isn-t-a-core-developer" id="id15">How do I tell who is and isn&#8217;t a core developer?</a></li>
<li><a class="reference internal" href="#what-standards-of-behaviour-are-expected-in-these-communication-channels" id="id16">What standards of behaviour are expected in these communication channels?</a></li>
</ul>
</li>
<li><a class="reference internal" href="#version-control" id="id17">Version Control</a><ul>
<li><a class="reference internal" href="#for-everyone" id="id18">For everyone</a><ul>
<li><a class="reference internal" href="#where-can-i-learn-about-the-version-control-system-used-mercurial-hg" id="id19">Where can I learn about the version control system used, Mercurial (hg)?</a></li>
<li><a class="reference internal" href="#i-already-know-how-to-use-git-can-i-use-that-instead" id="id20">I already know how to use Git, can I use that instead?</a></li>
<li><a class="reference internal" href="#what-do-i-need-to-use-mercurial" id="id21">What do I need to use Mercurial?</a><ul>
<li><a class="reference internal" href="#unix" id="id22">UNIX</a></li>
<li><a class="reference internal" href="#windows" id="id23">Windows</a></li>
</ul>
</li>
<li><a class="reference internal" href="#what-s-a-working-copy-what-s-a-repository" id="id24">What&#8217;s a working copy? What&#8217;s a repository?</a></li>
<li><a class="reference internal" href="#which-branches-are-in-my-local-repository" id="id25">Which branches are in my local repository?</a></li>
<li><a class="reference internal" href="#which-branch-is-currently-checked-out-in-my-working-copy" id="id26">Which branch is currently checked out in my working copy?</a></li>
<li><a class="reference internal" href="#how-do-i-switch-between-branches-inside-my-working-copy" id="id27">How do I switch between branches inside my working copy?</a></li>
<li><a class="reference internal" href="#i-want-to-keep-a-separate-working-copy-per-development-branch-is-it-possible" id="id28">I want to keep a separate working copy per development branch, is it possible?</a></li>
<li><a class="reference internal" href="#how-do-i-link-my-local-repository-to-a-particular-remote-repository" id="id29">How do I link my local repository to a particular remote repository?</a></li>
<li><a class="reference internal" href="#how-do-i-create-a-shorthand-alias-for-a-remote-repository" id="id30">How do I create a shorthand alias for a remote repository?</a></li>
<li><a class="reference internal" href="#how-do-i-compare-my-local-repository-to-a-remote-repository" id="id31">How do I compare my local repository to a remote repository?</a></li>
<li><a class="reference internal" href="#how-do-i-update-my-local-repository-to-be-in-sync-with-a-remote-repository" id="id32">How do I update my local repository to be in sync with a remote repository?</a></li>
<li><a class="reference internal" href="#how-do-i-update-my-working-copy-with-the-latest-changes" id="id33">How do I update my working copy with the latest changes?</a></li>
<li><a class="reference internal" href="#how-do-i-apply-a-patch" id="id34">How do I apply a patch?</a></li>
<li><a class="reference internal" href="#how-do-i-solve-conflicts-when-applying-a-patch-fails" id="id35">How do I solve conflicts when applying a patch fails?</a></li>
<li><a class="reference internal" href="#how-do-i-add-a-file-or-directory-to-the-repository" id="id36">How do I add a file or directory to the repository?</a></li>
<li><a class="reference internal" href="#what-s-the-best-way-to-split-a-file-into-several-files" id="id37">What&#8217;s the best way to split a file into several files?</a></li>
<li><a class="reference internal" href="#how-do-i-delete-a-file-or-directory-in-the-repository" id="id38">How do I delete a file or directory in the repository?</a></li>
<li><a class="reference internal" href="#what-files-are-modified-in-my-working-copy" id="id39">What files are modified in my working copy?</a></li>
<li><a class="reference internal" href="#how-do-i-revert-a-file-i-have-modified-back-to-the-version-in-the-repository" id="id40">How do I revert a file I have modified back to the version in the repository?</a></li>
<li><a class="reference internal" href="#how-do-i-find-out-who-edited-or-what-revision-changed-a-line-last" id="id41">How do I find out who edited or what revision changed a line last?</a></li>
<li><a class="reference internal" href="#how-can-i-see-a-list-of-log-messages-for-a-file-or-specific-revision" id="id42">How can I see a list of log messages for a file or specific revision?</a></li>
<li><a class="reference internal" href="#how-can-i-see-the-changeset-graph-in-my-repository" id="id43">How can I see the changeset graph in my repository?</a></li>
<li><a class="reference internal" href="#how-do-i-update-to-a-specific-release-tag" id="id44">How do I update to a specific release tag?</a></li>
<li><a class="reference internal" href="#how-do-i-find-which-changeset-introduced-a-bug-or-regression" id="id45">How do I find which changeset introduced a bug or regression?</a></li>
<li><a class="reference internal" href="#how-come-feature-xyz-isn-t-available-in-mercurial" id="id46">How come feature XYZ isn&#8217;t available in Mercurial?</a></li>
</ul>
</li>
<li><a class="reference internal" href="#for-core-developers" id="id47">For core developers</a><ul>
<li><a class="reference internal" href="#how-do-i-commit-a-change-to-a-file" id="id48">How do I commit a change to a file?</a></li>
<li><a class="reference internal" href="#how-do-i-solve-merge-conflicts" id="id49">How do I solve merge conflicts?</a></li>
<li><a class="reference internal" href="#how-do-i-make-a-null-merge" id="id50">How do I make a null merge?</a></li>
<li><a class="reference internal" href="#i-got-abort-push-creates-new-remote-heads-while-pushing-what-do-i-do" id="id51">I got &#8220;abort: push creates new remote heads!&#8221; while pushing, what do I do?</a></li>
<li><a class="reference internal" href="#how-do-i-undo-the-changes-made-in-a-recent-commit" id="id52">How do I undo the changes made in a recent commit?</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#ssh" id="id53">SSH</a><ul>
<li><a class="reference internal" href="#how-do-i-generate-an-ssh-2-public-key" id="id54">How do I generate an SSH 2 public key?</a><ul>
<li><a class="reference internal" href="#id4" id="id55">UNIX</a></li>
<li><a class="reference internal" href="#id5" id="id56">Windows</a></li>
</ul>
</li>
<li><a class="reference internal" href="#is-there-a-way-to-avoid-having-to-constantly-enter-my-password-for-my-ssh-2-public-key" id="id57">Is there a way to avoid having to constantly enter my password for my SSH 2 public key?</a><ul>
<li><a class="reference internal" href="#id6" id="id58">UNIX</a></li>
<li><a class="reference internal" href="#pageant" id="id59">Windows</a></li>
</ul>
</li>
<li><a class="reference internal" href="#can-i-make-commits-from-machines-other-than-the-one-i-generated-the-keys-on" id="id60">Can I make commits from machines other than the one I generated the keys on?</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="communications">
<h2><a class="toc-backref" href="#id8">22.1. Communications</a><a class="headerlink" href="#communications" title="Permalink to this headline">¶</a></h2>
<div class="section" id="where-should-i-ask-general-jython-questions">
<h3><a class="toc-backref" href="#id9">22. Where should I ask general Jython questions?</a><a class="headerlink" href="#where-should-i-ask-general-jython-questions" title="Permalink to this headline">¶</a></h3>
<p>General Jython questions should still go to <a class="reference external" href="https://lists.sourceforge.net/lists/listinfo/jython-users">jython-users</a> or <a class="reference external" href="http://mail.python.org/mailman/listinfo/tutor">tutor</a>
or similar resources, such as <a class="reference external" href="http://stackoverflow.com/">StackOverflow</a> or the <tt class="docutils literal"><span class="pre">#jython</span></tt> IRC channel
on <a class="reference external" href="http://freenode.net/">Freenode</a>.</p>
</div>
<div class="section" id="where-should-i-suggest-new-features-and-language-changes">
<span id="suggesting-changes"></span><span id="index-0"></span><h3><a class="toc-backref" href="#id10">22. Where should I suggest new features and language changes?</a><a class="headerlink" href="#where-should-i-suggest-new-features-and-language-changes" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference external" href="http://mail.python.org/mailman/listinfo/python-ideas">python-ideas</a> mailing list is specifically intended for discussion of
new features and language changes. Please don&#8217;t be disappointed if your
idea isn&#8217;t met with universal approval: as the long list of Rejected and
Withdrawn PEPs in the <a class="reference external" href="http://www.python.org/dev/peps/">PEP Index</a> attests, and as befits a reasonably mature
programming language, getting significant changes into Python isn&#8217;t a simple
task.</p>
<p>If the idea is reasonable, someone will suggest posting it as a feature
request on the <a href="#id61"><span class="problematic" id="id62">`issue tracker`_</span></a>, or, for larger changes, writing it up as
a <a class="reference external" href="http://www.python.org/dev/peps/pep-0001/">draft PEP</a>.</p>
<p>Sometimes core developers will differ in opinion, or merely be collectively
unconvinced. When there isn&#8217;t an obvious victor then the
<a class="reference external" href="http://www.curiousefficiency.org/posts/2011/02/status-quo-wins-stalemate.html">Status Quo Wins a Stalemate</a> as outlined in the linked post.</p>
<p>For some examples on language changes that were accepted please read
<a class="reference external" href="http://www.curiousefficiency.org/posts/2011/02/justifying-python-language-changes.html">Justifying Python Language Changes</a>.</p>
<p>See also the <a class="reference internal" href="langchanges.html#langchanges"><em>Changing the Python Language</em></a> section of this guide.</p>
</div>
<div class="section" id="where-should-i-ask-general-questions-about-contributing-to-jython">
<h3><a class="toc-backref" href="#id11">22. Where should I ask general questions about contributing to Jython?</a><a class="headerlink" href="#where-should-i-ask-general-questions-about-contributing-to-jython" title="Permalink to this headline">¶</a></h3>
<p>Jython development is generally discussed on the <a class="reference external" href="https://lists.sourceforge.net/lists/listinfo/jython-dev">jython-dev</a> list.
There is also the <a class="reference external" href="http://pythonmentors.com">Python Mentors</a> program which is specifically about
encouraging developers and others that would like to contribute to Python and
Jython development in general, rather than necessarily being focused on one
particular issue. Some core developers are also available on the <tt class="docutils literal"><span class="pre">#jython</span></tt>
IRC channel on <a class="reference external" href="http://freenode.net/">Freenode</a>.</p>
</div>
<div class="section" id="where-should-i-report-specific-problems">
<h3><a class="toc-backref" href="#id12">22. Where should I report specific problems?</a><a class="headerlink" href="#where-should-i-report-specific-problems" title="Permalink to this headline">¶</a></h3>
<p>Specific problems should be posted to the <a href="#id63"><span class="problematic" id="id64">`issue tracker`_</span></a>.</p>
</div>
<div class="section" id="what-if-i-m-not-sure-it-is-a-bug">
<h3><a class="toc-backref" href="#id13">22. What if I&#8217;m not sure it is a bug?</a><a class="headerlink" href="#what-if-i-m-not-sure-it-is-a-bug" title="Permalink to this headline">¶</a></h3>
<p>The general Python help locations listed above are the best place to start
with that kind of question. If they agree it looks like a bug, then the
next step is to either post it to the <a href="#id65"><span class="problematic" id="id66">`issue tracker`_</span></a> or else to ask further
on the core development mailing list, <a class="reference external" href="https://lists.sourceforge.net/lists/listinfo/jython-dev">jython-dev</a>.</p>
</div>
<div class="section" id="what-if-i-disagree-with-an-issue-resolution-on-the-tracker">
<h3><a class="toc-backref" href="#id14">22. What if I disagree with an issue resolution on the tracker?</a><a class="headerlink" href="#what-if-i-disagree-with-an-issue-resolution-on-the-tracker" title="Permalink to this headline">¶</a></h3>
<p>First, take some time to consider any comments made in association with the
resolution of the tracker issue. On reflection, they may seem more reasonable
than they first appeared.</p>
<p>If you still feel the resolution is incorrect, then raise the question on
<a class="reference external" href="https://lists.sourceforge.net/lists/listinfo/jython-dev">jython-dev</a>.</p>
</div>
<div class="section" id="how-do-i-tell-who-is-and-isn-t-a-core-developer">
<h3><a class="toc-backref" href="#id15">22. How do I tell who is and isn&#8217;t a core developer?</a><a class="headerlink" href="#how-do-i-tell-who-is-and-isn-t-a-core-developer" title="Permalink to this headline">¶</a></h3>
<p>As Jython core developers are on the same list as CPython core developers, you
can check their name against the <a class="reference external" href="http://hg.python.org/committers.txt">full list of developers</a> with commit
rights to the main source control repository.</p>
<p>On the <a href="#id67"><span class="problematic" id="id68">`issue tracker`_</span></a>, most core developers will have the Python logo
appear next to their name. (This is not yet true on the Jython tracker, we&#8217;re
working on it).</p>
</div>
<div class="section" id="what-standards-of-behaviour-are-expected-in-these-communication-channels">
<h3><a class="toc-backref" href="#id16">22. What standards of behaviour are expected in these communication channels?</a><a class="headerlink" href="#what-standards-of-behaviour-are-expected-in-these-communication-channels" title="Permalink to this headline">¶</a></h3>
<p>We try to foster environments of mutual respect, tolerance and encouragement,
as described in the PSF&#8217;s <a class="reference external" href="http://www.python.org/psf/diversity/">Diversity Statement</a>. Abiding by the guidelines
in this document and asking questions or posting suggestions in the
appropriate channels are an excellent way to get started on the mutual respect
part, greatly increasing the chances of receiving tolerance and encouragement
in return.</p>
</div>
</div>
<div class="section" id="version-control">
<h2><a class="toc-backref" href="#id17">22.2. Version Control</a><a class="headerlink" href="#version-control" title="Permalink to this headline">¶</a></h2>
<div class="section" id="for-everyone">
<h3><a class="toc-backref" href="#id18">22. For everyone</a><a class="headerlink" href="#for-everyone" title="Permalink to this headline">¶</a></h3>
<p>The following FAQs are intended for both core developers and contributors.</p>
<div class="section" id="where-can-i-learn-about-the-version-control-system-used-mercurial-hg">
<h4><a class="toc-backref" href="#id19">22. Where can I learn about the version control system used, Mercurial (hg)?</a><a class="headerlink" href="#where-can-i-learn-about-the-version-control-system-used-mercurial-hg" title="Permalink to this headline">¶</a></h4>
<p><a class="reference external" href="http://mercurial.selenic.com/">Mercurial</a>&#8216;s (also known as <tt class="docutils literal"><span class="pre">hg</span></tt>) official web site is at
<a class="reference external" href="http://mercurial.selenic.com/">http://mercurial.selenic.com/</a>.  A book on Mercurial published by
<a class="reference external" href="http://www.oreilly.com/">O&#8217;Reilly Media</a>, <a class="reference external" href="http://hgbook.red-bean.com/">Mercurial: The Definitive Guide</a>, is available
for free online.  Another resource is <a class="reference external" href="http://hginit.com/">Hg Init: a Mercurial tutorial</a>
by Joel Spolsky.</p>
<p>With Mercurial installed, you can run the help tool that comes with
Mercurial to get help:</p>
<div class="highlight-python"><div class="highlight"><pre>hg help
</pre></div>
</div>
<p>The <a class="reference external" href="http://www.selenic.com/mercurial/hg.1.html">man page</a> for <tt class="docutils literal"><span class="pre">hg</span></tt> provides a quick refresher on the details of
various commands, but doesn&#8217;t provide any guidance on overall
workflow.</p>
</div>
<div class="section" id="i-already-know-how-to-use-git-can-i-use-that-instead">
<h4><a class="toc-backref" href="#id20">22. I already know how to use Git, can I use that instead?</a><a class="headerlink" href="#i-already-know-how-to-use-git-can-i-use-that-instead" title="Permalink to this headline">¶</a></h4>
<p>While the main workflow for core developers requires Mercurial, if
you just want to generate patches with <tt class="docutils literal"><span class="pre">git</span> <span class="pre">diff</span></tt> and post them to the
<a href="#id69"><span class="problematic" id="id70">`issue tracker`_</span></a>, Petri Lehtinen maintains a <a class="reference external" href="http://github.com/akheron/cpython">git mirror</a> of the main
<a class="reference external" href="http://hg.python.org/cpython">CPython repository</a>. To create a local clone based on this mirror rather
than the main repository:</p>
<div class="highlight-python"><div class="highlight"><pre>git clone git://github.com/akheron/cpython
</pre></div>
</div>
<p>The mirror&#8217;s master branch tracks the main repository&#8217;s default branch,
while the maintenance branch names (<tt class="docutils literal"><span class="pre">2.7</span></tt>, <tt class="docutils literal"><span class="pre">3.3</span></tt>, etc) are mapped
directly.</p>
<p>Please only use this approach if you&#8217;re already an experienced Git user and
don&#8217;t require assistance with the specifics of version control commands. All
other parts of this developer&#8217;s guide assume the use of Mercurial for local
version control.</p>
</div>
<div class="section" id="what-do-i-need-to-use-mercurial">
<h4><a class="toc-backref" href="#id21">22. What do I need to use Mercurial?</a><a class="headerlink" href="#what-do-i-need-to-use-mercurial" title="Permalink to this headline">¶</a></h4>
<div class="section" id="unix">
<h5><a class="toc-backref" href="#id22">22. UNIX</a><a class="headerlink" href="#unix" title="Permalink to this headline">¶</a></h5>
<p>First, you need to <a class="reference external" href="http://mercurial.selenic.com/downloads">download Mercurial</a>.  Most UNIX-based operating systems
have binary packages available.  Most package management systems also
have native Mercurial packages available.</p>
<p>If you have push rights, you need <a class="reference external" href="http://www.openssh.org/">OpenSSH</a>.  This is needed to verify
your identity when performing commits. As with Mercurial, binary packages
are typically available either online or through the platform&#8217;s package
management system.</p>
<p>Mercurial does not use its own compression via SSH
because it is better to enable compression at the SSH level.  Enabling
SSH compression can make cloning a remote repository much faster.
You can configure it in your <tt class="docutils literal"><span class="pre">~/.ssh/config</span></tt> file; for example:</p>
<div class="highlight-python"><div class="highlight"><pre>Host hg.python.org
  Compression yes
</pre></div>
</div>
</div>
<div class="section" id="windows">
<h5><a class="toc-backref" href="#id23">22. Windows</a><a class="headerlink" href="#windows" title="Permalink to this headline">¶</a></h5>
<p>The recommended option on Windows is to <a class="reference external" href="http://tortoisehg.bitbucket.org/download/index.html">download TortoiseHg</a> which
integrates with Windows Explorer and also bundles the command line client
(meaning you can type <tt class="docutils literal"><span class="pre">hg</span></tt> in a DOS box).  Note that most
entries in this FAQ only cover the command line client in detail - refer
to the TortoiseHg documentation for assistance with its graphical interface.</p>
<p>If you have push rights, you need to configure Mercurial to work with
your SSH keys.  For that, open your Mercurial configuration file
(you can do so by opening the TortoiseHg Global Settings dialog and then
clicking <em>&#8220;Edit File&#8221;</em>).  If there is no <tt class="docutils literal"><span class="pre">[ui]</span></tt> section, create it by
typing just that on a line by itself. Then add the following line:</p>
<div class="highlight-python"><div class="highlight"><pre>ssh = TortoisePlink.exe -ssh -2 -C -i C:\path\to\yourkey.ppk
</pre></div>
</div>
<p>where <tt class="docutils literal"><span class="pre">C:\path\to\yourkey.ppk</span></tt> should be replaced with the actual path
to your SSH private key.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If your private key is in OpenSSH format, you must first convert it to
PuTTY format by loading it into <a class="reference external" href="http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html">PuTTYgen</a>.</p>
</div>
</div>
</div>
<div class="section" id="what-s-a-working-copy-what-s-a-repository">
<h4><a class="toc-backref" href="#id24">22. What&#8217;s a working copy? What&#8217;s a repository?</a><a class="headerlink" href="#what-s-a-working-copy-what-s-a-repository" title="Permalink to this headline">¶</a></h4>
<p>Mercurial is a &#8220;distributed&#8221; version control system.  This means that each
participant, even casual contributors, download a complete copy (called a
<em>clone</em>, since it is obtained by calling <tt class="docutils literal"><span class="pre">hg</span> <span class="pre">clone</span></tt>) of the central
repository which can be treated as a stand-alone repository for all purposes.
That copy is called in the FAQ the <em>local repository</em>, to differentiate
with any <em>remote repository</em> you might also interact with.</p>
<p>But you don&#8217;t modify files directly in the local repository; Mercurial doesn&#8217;t
allow for it.  You modify files in what&#8217;s called the <em>working copy</em> associated
with your local repository: you also run compilations and tests there.
Once you are satisfied with your changes, you can <a class="reference internal" href="#hg-commit"><em>commit them</em></a>;
committing records the changes as a new <em>revision</em> in the <em>local repository</em>.</p>
<p>Changes in your <em>local repository</em> don&#8217;t get automatically shared with the
rest of the world.  Mercurial ensures that you have to do so explicitly
(this allows you to experiment quite freely with multiple branches of
development, all on your private computer).  The main commands for doing
so are <tt class="docutils literal"><span class="pre">hg</span> <span class="pre">pull</span></tt> and <tt class="docutils literal"><span class="pre">hg</span> <span class="pre">push</span></tt>.</p>
</div>
<div class="section" id="which-branches-are-in-my-local-repository">
<h4><a class="toc-backref" href="#id25">22. Which branches are in my local repository?</a><a class="headerlink" href="#which-branches-are-in-my-local-repository" title="Permalink to this headline">¶</a></h4>
<p>Typing <tt class="docutils literal"><span class="pre">hg</span> <span class="pre">branches</span></tt> displays the open branches in your local repository:</p>
<div class="highlight-python"><div class="highlight"><pre>$ hg branches
default                     7083:358986e4d053
2.5                         7065:5ce837b1a1d8
2.2                         6412:bed9f9de4ef3
</pre></div>
</div>
</div>
<div class="section" id="which-branch-is-currently-checked-out-in-my-working-copy">
<span id="hg-current-branch"></span><h4><a class="toc-backref" href="#id26">22. Which branch is currently checked out in my working copy?</a><a class="headerlink" href="#which-branch-is-currently-checked-out-in-my-working-copy" title="Permalink to this headline">¶</a></h4>
<p>Use:</p>
<div class="highlight-python"><div class="highlight"><pre>$ hg branch
default
</pre></div>
</div>
<p>Or to get more information:</p>
<div class="highlight-python"><div class="highlight"><pre>$ hg summary
parent: 7083:358986e4d053 tip
 Merge forward.
 branch: default
 commit: 17 unknown (clean)
 update: (current)
</pre></div>
</div>
</div>
<div class="section" id="how-do-i-switch-between-branches-inside-my-working-copy">
<span id="hg-switch-branches"></span><h4><a class="toc-backref" href="#id27">22. How do I switch between branches inside my working copy?</a><a class="headerlink" href="#how-do-i-switch-between-branches-inside-my-working-copy" title="Permalink to this headline">¶</a></h4>
<p>Simply use <tt class="docutils literal"><span class="pre">hg</span> <span class="pre">update</span></tt> to checkout another branch in the current directory:</p>
<div class="highlight-python"><div class="highlight"><pre>$ hg branch
default
$ hg update 3.3
86 files updated, 0 files merged, 11 files removed, 0 files unresolved
$ hg branch
3.3
</pre></div>
</div>
<p>Adding the <tt class="docutils literal"><span class="pre">-v</span></tt> option to <tt class="docutils literal"><span class="pre">hg</span> <span class="pre">update</span></tt> will list all updated files.</p>
</div>
<div class="section" id="i-want-to-keep-a-separate-working-copy-per-development-branch-is-it-possible">
<h4><a class="toc-backref" href="#id28">22. I want to keep a separate working copy per development branch, is it possible?</a><a class="headerlink" href="#i-want-to-keep-a-separate-working-copy-per-development-branch-is-it-possible" title="Permalink to this headline">¶</a></h4>
<p>There are two ways:</p>
<ol class="arabic simple">
<li>Use the &#8220;<a class="reference external" href="http://mercurial.selenic.com/wiki/ShareExtension">share extension</a>&#8221; as described in the <a class="reference internal" href="committing.html#multiple-clones"><em>Multiple Clones Approach</em></a>
section;</li>
<li>Create several clones of your local repository;</li>
</ol>
<p>If you want to use the second way, you can do:</p>
<div class="highlight-python"><div class="highlight"><pre>$ hg clone jython jy33
updating to branch default
3434 files updated, 0 files merged, 0 files removed, 0 files unresolved
$ cd jy33
$ hg update 3.3
86 files updated, 0 files merged, 11 files removed, 0 files unresolved
</pre></div>
</div>
<p>The current branch in a working copy is &#8220;sticky&#8221;: if you pull in some new
changes, <tt class="docutils literal"><span class="pre">hg</span> <span class="pre">update</span></tt> will update to the head of the <em>current branch</em>.</p>
</div>
<div class="section" id="how-do-i-link-my-local-repository-to-a-particular-remote-repository">
<span id="hg-paths"></span><h4><a class="toc-backref" href="#id29">22. How do I link my local repository to a particular remote repository?</a><a class="headerlink" href="#how-do-i-link-my-local-repository-to-a-particular-remote-repository" title="Permalink to this headline">¶</a></h4>
<p>Your local repository is linked by default to the remote repository it
was <em>cloned</em> from.  If you created it from scratch, however, it is not linked
to any remote repository.  In <tt class="docutils literal"><span class="pre">.hg/hgrc</span></tt> file for the local repository, add
or modify the following section:</p>
<div class="highlight-python"><div class="highlight"><pre>[paths]
default = ssh://hg@hg.python.org/jython-docs/devguide
</pre></div>
</div>
<p>This example is for a local repository that mirrors the <tt class="docutils literal"><span class="pre">devguide</span></tt> repository
on <tt class="docutils literal"><span class="pre">hg.python.org</span></tt>. The same approach works for other remote repositories.</p>
<p>Anywhere that <tt class="docutils literal"><span class="pre">&lt;remote</span> <span class="pre">repository&gt;</span></tt> is used in the commands in this
FAQ, <tt class="docutils literal"><span class="pre">hg</span></tt> will use the default remote repository if you omit the parameter.</p>
</div>
<div class="section" id="how-do-i-create-a-shorthand-alias-for-a-remote-repository">
<h4><a class="toc-backref" href="#id30">22. How do I create a shorthand alias for a remote repository?</a><a class="headerlink" href="#how-do-i-create-a-shorthand-alias-for-a-remote-repository" title="Permalink to this headline">¶</a></h4>
<p>In your global <tt class="docutils literal"><span class="pre">.hgrc</span></tt> file add a section similar to the following:</p>
<div class="highlight-python"><div class="highlight"><pre>[paths]
dg = ssh://hg@hg.python.org/jython-docs/devguide
</pre></div>
</div>
<p>This example creates a <tt class="docutils literal"><span class="pre">dg</span></tt> alias for this <tt class="docutils literal"><span class="pre">devguide</span></tt> repository
on <tt class="docutils literal"><span class="pre">hg.python.org</span></tt>. This allows &#8220;dg&#8221; to be entered instead of the
full URL for commands taking a repository argument (e.g. <tt class="docutils literal"><span class="pre">hg</span> <span class="pre">pull</span> <span class="pre">dg</span></tt> or
<tt class="docutils literal"><span class="pre">hg</span> <span class="pre">outgoing</span> <span class="pre">dg</span></tt>).</p>
<p>Anywhere that <tt class="docutils literal"><span class="pre">&lt;remote</span> <span class="pre">repository&gt;</span></tt> is used in the commands in this
FAQ, <tt class="docutils literal"><span class="pre">hg</span></tt> should accept an alias in place of a complete remote URL.</p>
</div>
<div class="section" id="how-do-i-compare-my-local-repository-to-a-remote-repository">
<h4><a class="toc-backref" href="#id31">22. How do I compare my local repository to a remote repository?</a><a class="headerlink" href="#how-do-i-compare-my-local-repository-to-a-remote-repository" title="Permalink to this headline">¶</a></h4>
<p>To display the list of changes that are in your local repository, but not
in the remote, use:</p>
<div class="highlight-python"><div class="highlight"><pre>hg outgoing &lt;remote repository&gt;
</pre></div>
</div>
<p>This is the list of changes that will be sent if you call
<tt class="docutils literal"><span class="pre">hg</span> <span class="pre">push</span> <span class="pre">&lt;remote</span> <span class="pre">repository&gt;</span></tt>.  It does <strong>not</strong> include any <a class="reference internal" href="#hg-status"><em>uncommitted
changes</em></a> in your working copy!</p>
<p>Conversely, for the list of changes that are in the remote repository but
not in the local, use:</p>
<div class="highlight-python"><div class="highlight"><pre>hg incoming &lt;remote repository&gt;
</pre></div>
</div>
<p>This is the list of changes that will be retrieved if you call
<tt class="docutils literal"><span class="pre">hg</span> <span class="pre">pull</span> <span class="pre">&lt;remote</span> <span class="pre">repository&gt;</span></tt>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>In most daily use, you will work against the default remote repository,
and therefore simply type <tt class="docutils literal"><span class="pre">hg</span> <span class="pre">outgoing</span></tt> and <tt class="docutils literal"><span class="pre">hg</span> <span class="pre">incoming</span></tt>.</p>
<p class="last">In this case, you can also get a synthetic summary using
<tt class="docutils literal"><span class="pre">hg</span> <span class="pre">summary</span> <span class="pre">--remote</span></tt>.</p>
</div>
</div>
<div class="section" id="how-do-i-update-my-local-repository-to-be-in-sync-with-a-remote-repository">
<h4><a class="toc-backref" href="#id32">22. How do I update my local repository to be in sync with a remote repository?</a><a class="headerlink" href="#how-do-i-update-my-local-repository-to-be-in-sync-with-a-remote-repository" title="Permalink to this headline">¶</a></h4>
<p>Run:</p>
<div class="highlight-python"><div class="highlight"><pre>hg pull &lt;remote repository&gt;
</pre></div>
</div>
<p>from the repository you wish to pull the latest changes into.  Most of the
time, that repository is a clone of the repository you want to pull from,
so you can simply type:</p>
<div class="highlight-python"><div class="highlight"><pre>hg pull
</pre></div>
</div>
<p>This doesn&#8217;t update your working copy, though.  See below:</p>
</div>
<div class="section" id="how-do-i-update-my-working-copy-with-the-latest-changes">
<h4><a class="toc-backref" href="#id33">22. How do I update my working copy with the latest changes?</a><a class="headerlink" href="#how-do-i-update-my-working-copy-with-the-latest-changes" title="Permalink to this headline">¶</a></h4>
<p>Do:</p>
<div class="highlight-python"><div class="highlight"><pre>hg update
</pre></div>
</div>
<p>This will update your working copy with the latest changes on the
<a class="reference internal" href="#hg-current-branch"><em>current branch</em></a>.  If you had <a class="reference internal" href="#hg-status"><em>uncommitted
changes</em></a> in your working copy, they will be merged in.</p>
<p>If you find yourself typing often <tt class="docutils literal"><span class="pre">hg</span> <span class="pre">pull</span></tt> followed by <tt class="docutils literal"><span class="pre">hg</span> <span class="pre">update</span></tt>,
be aware that you can combine them in a single command:</p>
<div class="highlight-python"><div class="highlight"><pre>hg pull -u
</pre></div>
</div>
</div>
<div class="section" id="how-do-i-apply-a-patch">
<span id="hg-local-workflow"></span><h4><a class="toc-backref" href="#id34">22. How do I apply a patch?</a><a class="headerlink" href="#how-do-i-apply-a-patch" title="Permalink to this headline">¶</a></h4>
<p>If you want to try out or review a patch generated using Mercurial, do:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">patch</span> <span class="o">-</span><span class="n">p1</span> <span class="o">&lt;</span> <span class="n">somework</span><span class="o">.</span><span class="n">patch</span>
</pre></div>
</div>
<p>This will apply the changes in your working copy without committing them.
If the patch was not created by Mercurial (for example, a patch created by
Subversion and thus lacking any <tt class="docutils literal"><span class="pre">a</span></tt>/<tt class="docutils literal"><span class="pre">b</span></tt> directory prefixes in the patch),
replace <tt class="docutils literal"><span class="pre">-p1</span></tt> with <tt class="docutils literal"><span class="pre">-p0</span></tt>.</p>
<p>If the patch contains renames, deletions or copies, and you intend committing
it after your review, you might prefer using:</p>
<div class="highlight-python"><div class="highlight"><pre>hg import --no-commit somework.patch
</pre></div>
</div>
<p>If you want to work on the patch using <a class="reference external" href="http://mercurial.selenic.com/wiki/MqExtension">mq</a> (Mercurial Queues), type instead:</p>
<div class="highlight-python"><div class="highlight"><pre>hg qimport somework.patch
</pre></div>
</div>
<p>This will create a patch in your queue with a name that matches the filename.
You can use the <tt class="docutils literal"><span class="pre">-n</span></tt> argument to specify a different name.  To have the
patch applied to the working copy, type:</p>
<div class="highlight-python"><div class="highlight"><pre>hg qpush
</pre></div>
</div>
<p>Finally, to delete the patch, first un-apply it if necessary using <tt class="docutils literal"><span class="pre">hg</span> <span class="pre">qpop</span></tt>,
then do:</p>
<div class="highlight-python"><div class="highlight"><pre>hg qdelete somework.patch
</pre></div>
</div>
</div>
<div class="section" id="how-do-i-solve-conflicts-when-applying-a-patch-fails">
<span id="merge-patch"></span><h4><a class="toc-backref" href="#id35">22. How do I solve conflicts when applying a patch fails?</a><a class="headerlink" href="#how-do-i-solve-conflicts-when-applying-a-patch-fails" title="Permalink to this headline">¶</a></h4>
<p>The standard <tt class="docutils literal"><span class="pre">patch</span></tt> command, as well as <tt class="docutils literal"><span class="pre">hg</span> <span class="pre">import</span></tt>, will produce
unhelpful <tt class="docutils literal"><span class="pre">*.rej</span></tt> files when it fails applying parts of a patch.
We suggest you try the <a class="reference external" href="http://oss.oracle.com/~mason/mpatch/">mpatch</a> utility, which can help resolve a number of
common causes of patch rejects.</p>
<p>To make use of <tt class="docutils literal"><span class="pre">mpatch</span></tt> transparent, you can define a shell alias in one
of your startup files.  For example, if you want it to open the <tt class="docutils literal"><span class="pre">kdiff3</span></tt>
merge program to fix failing patch hunks:</p>
<div class="highlight-python"><div class="highlight"><pre>alias patch=&#39;mpatch --merge=kdiff3&#39;
</pre></div>
</div>
<p>or if you want it to automatically solve conflicts by using heuristics:</p>
<div class="highlight-python"><div class="highlight"><pre>alias patch=&#39;mpatch --auto --no-merge&#39;
</pre></div>
</div>
</div>
<div class="section" id="how-do-i-add-a-file-or-directory-to-the-repository">
<h4><a class="toc-backref" href="#id36">22. How do I add a file or directory to the repository?</a><a class="headerlink" href="#how-do-i-add-a-file-or-directory-to-the-repository" title="Permalink to this headline">¶</a></h4>
<p>Simply specify the path to the file or directory to add and run:</p>
<div class="highlight-python"><div class="highlight"><pre>hg add PATH
</pre></div>
</div>
<p>If <tt class="docutils literal"><span class="pre">PATH</span></tt> is a directory, Mercurial will recursively add any files in that
directory and its descendants.</p>
<p>If you want Mercurial to figure out by itself which files should be added
and/or removed, just run:</p>
<div class="highlight-python"><div class="highlight"><pre>hg addremove
</pre></div>
</div>
<p><strong>Be careful</strong> though, as it might add some files that are not desired in
the repository (such as build products, cache files, or other data).</p>
<p>You will then need to run <tt class="docutils literal"><span class="pre">hg</span> <span class="pre">commit</span></tt> (as discussed below) to commit
the file(s) to your local repository.</p>
</div>
<div class="section" id="what-s-the-best-way-to-split-a-file-into-several-files">
<h4><a class="toc-backref" href="#id37">22. What&#8217;s the best way to split a file into several files?</a><a class="headerlink" href="#what-s-the-best-way-to-split-a-file-into-several-files" title="Permalink to this headline">¶</a></h4>
<p>To split a file into several files (e.g. a module converted to a package or a
long doc file divided in two separate documents) use <tt class="docutils literal"><span class="pre">hg</span> <span class="pre">copy</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre>hg copy module.rst module2.rst
</pre></div>
</div>
<p>and then remove the parts that are not necessary from <tt class="docutils literal"><span class="pre">module.rst</span></tt> and
<tt class="docutils literal"><span class="pre">module2.rst</span></tt>.  This allows Mercurial to know that the content of
<tt class="docutils literal"><span class="pre">module2.rst</span></tt> used to be in <tt class="docutils literal"><span class="pre">module.rst</span></tt>, and will make subsequent merges
easier.  If necessary, you can also use <tt class="docutils literal"><span class="pre">hg</span> <span class="pre">copy</span></tt> several times.</p>
<p>If you simply create <tt class="docutils literal"><span class="pre">module2.rst</span></tt>, add it with <tt class="docutils literal"><span class="pre">hg</span> <span class="pre">add</span></tt>, and copy part of
the content from <tt class="docutils literal"><span class="pre">module.rst</span></tt>, Mercurial won&#8217;t know that the two file are
related.</p>
</div>
<div class="section" id="how-do-i-delete-a-file-or-directory-in-the-repository">
<h4><a class="toc-backref" href="#id38">22. How do I delete a file or directory in the repository?</a><a class="headerlink" href="#how-do-i-delete-a-file-or-directory-in-the-repository" title="Permalink to this headline">¶</a></h4>
<p>Specify the path to be removed with:</p>
<div class="highlight-python"><div class="highlight"><pre>hg remove PATH
</pre></div>
</div>
<p>This will remove the file or the directory from your working copy; you will
have to <a class="reference internal" href="#hg-commit"><em>commit your changes</em></a> for the removal to be recorded
in your local repository.</p>
</div>
<div class="section" id="what-files-are-modified-in-my-working-copy">
<span id="hg-status"></span><h4><a class="toc-backref" href="#id39">22. What files are modified in my working copy?</a><a class="headerlink" href="#what-files-are-modified-in-my-working-copy" title="Permalink to this headline">¶</a></h4>
<p>Running:</p>
<div class="highlight-python"><div class="highlight"><pre>hg status
</pre></div>
</div>
<p>will list any pending changes in the working copy.  These changes will get
committed to the local repository if you issue an <tt class="docutils literal"><span class="pre">hg</span> <span class="pre">commit</span></tt> without
specifying any path.</p>
<p>Some
key indicators that can appear in the first column of output are:</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="4%" />
<col width="96%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>A</td>
<td>Scheduled to be added</td>
</tr>
<tr class="row-even"><td>R</td>
<td>Scheduled to be removed</td>
</tr>
<tr class="row-odd"><td>M</td>
<td>Modified locally</td>
</tr>
<tr class="row-even"><td>?</td>
<td>Not under version control</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>If you want a line-by-line listing of the differences, use:</p>
<div class="highlight-python"><div class="highlight"><pre>hg diff
</pre></div>
</div>
</div>
<div class="section" id="how-do-i-revert-a-file-i-have-modified-back-to-the-version-in-the-repository">
<h4><a class="toc-backref" href="#id40">22. How do I revert a file I have modified back to the version in the repository?</a><a class="headerlink" href="#how-do-i-revert-a-file-i-have-modified-back-to-the-version-in-the-repository" title="Permalink to this headline">¶</a></h4>
<p>Running:</p>
<div class="highlight-python"><div class="highlight"><pre>hg revert PATH
</pre></div>
</div>
<p>will revert <tt class="docutils literal"><span class="pre">PATH</span></tt> to its version in the repository, throwing away any
changes you made locally.  If you run:</p>
<div class="highlight-python"><div class="highlight"><pre>hg revert -a
</pre></div>
</div>
<p>from the root of your working copy it will recursively restore everything
to match up with the repository.</p>
</div>
<div class="section" id="how-do-i-find-out-who-edited-or-what-revision-changed-a-line-last">
<h4><a class="toc-backref" href="#id41">22. How do I find out who edited or what revision changed a line last?</a><a class="headerlink" href="#how-do-i-find-out-who-edited-or-what-revision-changed-a-line-last" title="Permalink to this headline">¶</a></h4>
<p>You want:</p>
<div class="highlight-python"><div class="highlight"><pre>hg annotate PATH
</pre></div>
</div>
<p>This will output to stdout every line of the file along with which revision
last modified that line.  When you have the revision number, it is then
easy to <a class="reference internal" href="#hg-log-rev"><em>display it in detail</em></a>.</p>
</div>
<div class="section" id="how-can-i-see-a-list-of-log-messages-for-a-file-or-specific-revision">
<span id="hg-log"></span><h4><a class="toc-backref" href="#id42">22. How can I see a list of log messages for a file or specific revision?</a><a class="headerlink" href="#how-can-i-see-a-list-of-log-messages-for-a-file-or-specific-revision" title="Permalink to this headline">¶</a></h4>
<p>To see the history of changes for a specific file, run:</p>
<div class="highlight-python"><div class="highlight"><pre>hg log -v [PATH]
</pre></div>
</div>
<p>That will list all messages of revisions which modified the file specified
in <tt class="docutils literal"><span class="pre">PATH</span></tt>.  If <tt class="docutils literal"><span class="pre">PATH</span></tt> is omitted, all revisions are listed.</p>
<p>If you want to display line-by-line differences for each revision as well,
add the <tt class="docutils literal"><span class="pre">-p</span></tt> option:</p>
<div class="highlight-python"><div class="highlight"><pre>hg log -vp [PATH]
</pre></div>
</div>
<p id="hg-log-rev">If you want to view the differences for a specific revision, run:</p>
<div class="highlight-python"><div class="highlight"><pre>hg log -vp -r &lt;revision number&gt;
</pre></div>
</div>
</div>
<div class="section" id="how-can-i-see-the-changeset-graph-in-my-repository">
<h4><a class="toc-backref" href="#id43">22. How can I see the changeset graph in my repository?</a><a class="headerlink" href="#how-can-i-see-the-changeset-graph-in-my-repository" title="Permalink to this headline">¶</a></h4>
<p>In Mercurial repositories, changesets don&#8217;t form a simple list, but rather
a graph: every changeset has one or two parents (it&#8217;s called a merge changeset
in the latter case), and can have any number of children.</p>
<p>The <a class="reference external" href="http://mercurial.selenic.com/wiki/GraphlogExtension">graphlog</a> extension is very useful for examining the structure of the
changeset graph.  It is bundled with Mercurial.</p>
<p>Graphical tools, such as TortoiseHG, will display the changeset graph
by default.</p>
</div>
<div class="section" id="how-do-i-update-to-a-specific-release-tag">
<h4><a class="toc-backref" href="#id44">22. How do I update to a specific release tag?</a><a class="headerlink" href="#how-do-i-update-to-a-specific-release-tag" title="Permalink to this headline">¶</a></h4>
<p>Run:</p>
<div class="highlight-python"><div class="highlight"><pre>hg tags
</pre></div>
</div>
<p>to get a list of tags.  To update your working copy to a specific tag, use:</p>
<div class="highlight-python"><div class="highlight"><pre>hg update &lt;tag&gt;
</pre></div>
</div>
</div>
<div class="section" id="how-do-i-find-which-changeset-introduced-a-bug-or-regression">
<h4><a class="toc-backref" href="#id45">22. How do I find which changeset introduced a bug or regression?</a><a class="headerlink" href="#how-do-i-find-which-changeset-introduced-a-bug-or-regression" title="Permalink to this headline">¶</a></h4>
<p><tt class="docutils literal"><span class="pre">hg</span> <span class="pre">bisect</span></tt>, as the name indicates, helps you do a bisection of a range of
changesets.</p>
<p>You need two changesets to start the search: one that is &#8220;good&#8221;
(doesn&#8217;t have the bug), and one that is &#8220;bad&#8221; (has the bug).  Usually, you
have just noticed the bug in your working copy, so you can start with:</p>
<div class="highlight-python"><div class="highlight"><pre>hg bisect --bad
</pre></div>
</div>
<p>Then you must <tt class="docutils literal"><span class="pre">update</span></tt> to a previous changeset that doesn&#8217;t have the bug.
You can conveniently choose a faraway changeset (for example a former release),
and check that it is indeed &#8220;good&#8221;.  Then type:</p>
<div class="highlight-python"><div class="highlight"><pre>hg bisect --good
</pre></div>
</div>
<p>Mercurial will automatically bisect so as to narrow the range of possible
culprits, until a single changeset is isolated.  Each time Mercurial presents
you with a new changeset, re-compile Python and run the offending test, for
example:</p>
<div class="highlight-python"><div class="highlight"><pre>make -j2
./python -m test -uall test_sometest
</pre></div>
</div>
<p>Then, type either <tt class="docutils literal"><span class="pre">hg</span> <span class="pre">bisect</span> <span class="pre">--good</span></tt> or <tt class="docutils literal"><span class="pre">hg</span> <span class="pre">bisect</span> <span class="pre">--bad</span></tt> depending on
whether the test succeeded or failed.</p>
</div>
<div class="section" id="how-come-feature-xyz-isn-t-available-in-mercurial">
<h4><a class="toc-backref" href="#id46">22. How come feature XYZ isn&#8217;t available in Mercurial?</a><a class="headerlink" href="#how-come-feature-xyz-isn-t-available-in-mercurial" title="Permalink to this headline">¶</a></h4>
<p>Mercurial comes with many bundled extensions which can be explicitly enabled.
You can get a list of them by typing <tt class="docutils literal"><span class="pre">hg</span> <span class="pre">help</span> <span class="pre">extensions</span></tt>.  Some of these
extensions, such as <tt class="docutils literal"><span class="pre">color</span></tt>, can prettify output; others, such as <tt class="docutils literal"><span class="pre">fetch</span></tt>
or <tt class="docutils literal"><span class="pre">graphlog</span></tt>, add new Mercurial commands.</p>
<p>There are also many <a class="reference external" href="http://www.selenic.com/mercurial/hgrc.5.html">configuration options</a> to tweak various aspects of the
command line and other Mercurial behaviour; typing <a class="reference external" href="http://www.selenic.com/mercurial/hgrc.5.html">man hgrc</a> displays
their documentation inside your terminal.</p>
<p>In the end, please refer to the Mercurial <a class="reference external" href="http://mercurial.selenic.com/wiki/">wiki</a>, especially the pages about
<a class="reference external" href="http://mercurial.selenic.com/wiki/UsingExtensions">extensions</a> (including third-party ones) and the <a class="reference external" href="http://mercurial.selenic.com/wiki/TipsAndTricks">tips and tricks</a>.</p>
</div>
</div>
<div class="section" id="for-core-developers">
<span id="core-devs-faqs"></span><h3><a class="toc-backref" href="#id47">22. For core developers</a><a class="headerlink" href="#for-core-developers" title="Permalink to this headline">¶</a></h3>
<p>These FAQs are intended mainly for core developers.</p>
<div class="section" id="how-do-i-commit-a-change-to-a-file">
<span id="hg-commit"></span><h4><a class="toc-backref" href="#id48">22. How do I commit a change to a file?</a><a class="headerlink" href="#how-do-i-commit-a-change-to-a-file" title="Permalink to this headline">¶</a></h4>
<p>To commit any changes to a file (which includes adding a new file or deleting
an existing one), you use the command:</p>
<div class="highlight-python"><div class="highlight"><pre>hg commit [PATH]
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">PATH</span></tt> is optional: if it is omitted, all changes in your working copy
will be committed to the local repository.  When you commit, be sure that all
changes are desired by <a class="reference internal" href="#hg-status"><em>reviewing them first</em></a>;
also, when making commits that you intend to push to public repositories,
you should <strong>not</strong> commit together unrelated changes.</p>
<p>To abort a commit that you are in the middle of, leave the message
empty (i.e., close the text editor without adding any text for the
message).  Mercurial will then abort the commit operation so that you can
try again later.</p>
<p>Once a change is committed to your local repository, it is still only visible
by you.  This means you are free to experiment with as many local commits
you feel like.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you do not like the default text editor Mercurial uses for
entering commit messages, you may specify a different editor,
either by changing the <tt class="docutils literal"><span class="pre">EDITOR</span></tt> environment variable or by setting
a Mercurial-specific editor in your global <tt class="docutils literal"><span class="pre">.hgrc</span></tt> with the <tt class="docutils literal"><span class="pre">editor</span></tt>
option in the <tt class="docutils literal"><span class="pre">[ui]</span></tt> section.</p>
</div>
</div>
<div class="section" id="how-do-i-solve-merge-conflicts">
<span id="hg-merge-conflicts"></span><h4><a class="toc-backref" href="#id49">22. How do I solve merge conflicts?</a><a class="headerlink" href="#how-do-i-solve-merge-conflicts" title="Permalink to this headline">¶</a></h4>
<p>The easiest way is to install KDiff3 &#8212; Mercurial will open it automatically
in case of conflicts, and you can then use it to solve the conflicts and
save the resulting file(s).  KDiff3 will also take care of marking the
conflicts as resolved.</p>
<p>If you don&#8217;t use a merge tool, you can use <tt class="docutils literal"><span class="pre">hg</span> <span class="pre">resolve</span> <span class="pre">--list</span></tt> to list the
conflicting files, resolve the conflicts manually, and the use
<tt class="docutils literal"><span class="pre">hg</span> <span class="pre">resolve</span> <span class="pre">--mark</span> <span class="pre">&lt;file</span> <span class="pre">path&gt;</span></tt> to mark these conflicts as resolved.
You can also use <tt class="docutils literal"><span class="pre">hg</span> <span class="pre">resolve</span> <span class="pre">-am</span></tt> to mark all the conflicts as resolved.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Mercurial will use KDiff3 automatically if it&#8217;s installed and it can find
it &#8212; you don&#8217;t need to change any settings.  KDiff3 is also already
included in the installer of TortoiseHg.  For more information, see
<a class="reference external" href="http://mercurial.selenic.com/wiki/KDiff3">http://mercurial.selenic.com/wiki/KDiff3</a>.</p>
</div>
</div>
<div class="section" id="how-do-i-make-a-null-merge">
<span id="hg-null-merge"></span><h4><a class="toc-backref" href="#id50">22. How do I make a null merge?</a><a class="headerlink" href="#how-do-i-make-a-null-merge" title="Permalink to this headline">¶</a></h4>
<p>If you committed something (e.g. on 3.3) that shouldn&#8217;t be ported on newer
branches (e.g. on default), you have to do a <em>null merge</em>:</p>
<div class="highlight-python"><div class="highlight"><pre>cd 3.x
hg merge 3.3
hg revert -ar default
hg resolve -am  # needed only if the merge created conflicts
hg ci -m &#39;#12345: null merge with 3.3.&#39;
</pre></div>
</div>
<p>Before committing, <tt class="docutils literal"><span class="pre">hg</span> <span class="pre">status</span></tt> should list all the merged files as <tt class="docutils literal"><span class="pre">M</span></tt>,
but <tt class="docutils literal"><span class="pre">hg</span> <span class="pre">diff</span></tt> should produce no output.  This will record the merge without
actually changing the content of the files.</p>
</div>
<div class="section" id="i-got-abort-push-creates-new-remote-heads-while-pushing-what-do-i-do">
<span id="hg-heads-merge"></span><h4><a class="toc-backref" href="#id51">22. I got &#8220;abort: push creates new remote heads!&#8221; while pushing, what do I do?</a><a class="headerlink" href="#i-got-abort-push-creates-new-remote-heads-while-pushing-what-do-i-do" title="Permalink to this headline">¶</a></h4>
<p>If you see this message while pushing, it means that you committed something
on a clone that was not up to date, thus creating a new head.
This usually happens for two reasons:</p>
<ol class="arabic simple">
<li>You forgot to run <tt class="docutils literal"><span class="pre">hg</span> <span class="pre">pull</span></tt> and/or <tt class="docutils literal"><span class="pre">hg</span> <span class="pre">up</span></tt> before committing;</li>
<li>Someone else pushed on the main repo just before you, causing a push race;</li>
</ol>
<p>First of all you should pull the new changesets using <tt class="docutils literal"><span class="pre">hg</span> <span class="pre">pull</span></tt>.  Then you can
use <tt class="docutils literal"><span class="pre">hg</span> <span class="pre">heads</span></tt> to see which branches have multiple heads.</p>
<p>If only one branch has multiple heads, you can do:</p>
<div class="highlight-python"><div class="highlight"><pre>cd default
hg heads .
hg up csid-of-the-other-head
hg merge
hg ci -m &#39;Merge heads.&#39;
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">hg</span> <span class="pre">heads</span> <span class="pre">.</span></tt>  will show you the two heads of the current branch: the one you
pulled and the one you created with your commit (you can also specify a branch
with <tt class="docutils literal"><span class="pre">hg</span> <span class="pre">heads</span> <span class="pre">&lt;branch&gt;</span></tt>).  While not strictly necessary, it is highly
recommended to switch to the other head before merging.  This way you will be
merging only your changeset with the rest, and in case of conflicts it will be
a lot easier.</p>
<p>If more than one branch has multiple heads, you have to repeat these steps for
each branch.  Since this creates new changesets, you will also have to
<a class="reference internal" href="committing.html#branch-merge"><em>merge them between branches</em></a>.  For example, if both <tt class="docutils literal"><span class="pre">3.3</span></tt>
and <tt class="docutils literal"><span class="pre">default</span></tt> have multiple heads, you should first merge heads in <tt class="docutils literal"><span class="pre">3.3</span></tt>,
then merge heads in <tt class="docutils literal"><span class="pre">default</span></tt>, and finally merge <tt class="docutils literal"><span class="pre">3.3</span></tt> with <tt class="docutils literal"><span class="pre">default</span></tt>
using <tt class="docutils literal"><span class="pre">hg</span> <span class="pre">merge</span> <span class="pre">3.3</span></tt> as usual.</p>
<p>In order to avoid this, you should <em>always remember to pull and update before
committing</em>.</p>
</div>
<div class="section" id="how-do-i-undo-the-changes-made-in-a-recent-commit">
<h4><a class="toc-backref" href="#id52">22. How do I undo the changes made in a recent commit?</a><a class="headerlink" href="#how-do-i-undo-the-changes-made-in-a-recent-commit" title="Permalink to this headline">¶</a></h4>
<p>First, this should not happen if you take the habit of <a class="reference internal" href="#hg-status"><em>reviewing changes</em></a> before committing them.</p>
<p>In any case, run:</p>
<div class="highlight-python"><div class="highlight"><pre>hg backout &lt;revision number&gt;
</pre></div>
</div>
<p>This will modify your working copy so that all changes in <tt class="docutils literal"><span class="pre">&lt;revision</span> <span class="pre">number&gt;</span></tt>
(including added or deleted files) are undone.  You then need to <a class="reference internal" href="#hg-commit"><em>commit</em></a> these changes so that the backout gets permanently recorded.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">These instructions are for Mercurial 1.7 and higher.  <tt class="docutils literal"><span class="pre">hg</span> <span class="pre">backout</span></tt> has
a slightly different behaviour in versions before 1.7.</p>
</div>
</div>
</div>
</div>
<div class="section" id="ssh">
<h2><a class="toc-backref" href="#id53">22.3. SSH</a><a class="headerlink" href="#ssh" title="Permalink to this headline">¶</a></h2>
<div class="section" id="how-do-i-generate-an-ssh-2-public-key">
<h3><a class="toc-backref" href="#id54">22. How do I generate an SSH 2 public key?</a><a class="headerlink" href="#how-do-i-generate-an-ssh-2-public-key" title="Permalink to this headline">¶</a></h3>
<p>All generated SSH keys should be sent to <a class="reference external" href="mailto:hgaccounts&#37;&#52;&#48;python&#46;org">hgaccounts<span>&#64;</span>python<span>&#46;</span>org</a> for
adding to the list of keys.</p>
<div class="section" id="id4">
<h4><a class="toc-backref" href="#id55">22. UNIX</a><a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h4>
<p>Run:</p>
<div class="highlight-python"><div class="highlight"><pre>ssh-keygen -t rsa
</pre></div>
</div>
<p>This will generate two files; your public key and your private key.  Your
public key is the file ending in <tt class="docutils literal"><span class="pre">.pub</span></tt>.</p>
</div>
<div class="section" id="id5">
<h4><a class="toc-backref" href="#id56">22. Windows</a><a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h4>
<p>Use <a class="reference external" href="http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html">PuTTYgen</a> to generate your public key.  Choose the &#8220;SSH2 DSA&#8221; radio button,
have it create an OpenSSH formatted key, choose a password, and save the private
key to a file.  Copy the section with the public key (using Alt-P) to a file;
that file now has your public key.</p>
</div>
</div>
<div class="section" id="is-there-a-way-to-avoid-having-to-constantly-enter-my-password-for-my-ssh-2-public-key">
<h3><a class="toc-backref" href="#id57">22. Is there a way to avoid having to constantly enter my password for my SSH 2 public key?</a><a class="headerlink" href="#is-there-a-way-to-avoid-having-to-constantly-enter-my-password-for-my-ssh-2-public-key" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id6">
<h4><a class="toc-backref" href="#id58">22. UNIX</a><a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h4>
<p>Use <tt class="docutils literal"><span class="pre">ssh-agent</span></tt> and <tt class="docutils literal"><span class="pre">ssh-add</span></tt> to register your private key with SSH for
your current session.  The simplest solution, though, is to use <a class="reference external" href="http://www.gentoo.org/proj/en/keychain/">KeyChain</a>,
which is a shell script that will handle <tt class="docutils literal"><span class="pre">ssh-agent</span></tt> and <tt class="docutils literal"><span class="pre">ssh-add</span></tt> for you
once per login instead of per session.</p>
</div>
<div class="section" id="pageant">
<span id="id7"></span><h4><a class="toc-backref" href="#id59">22. Windows</a><a class="headerlink" href="#pageant" title="Permalink to this headline">¶</a></h4>
<p>The Pageant program is bundled with TortoiseHg.  You can find it in its
installation directory (usually <tt class="docutils literal"><span class="pre">C:\Program</span> <span class="pre">Files</span> <span class="pre">(x86)\TortoiseHg\</span></tt>);
you can also <a class="reference external" href="http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html">download it separately</a>.</p>
<p>Running Pageant will prevent you from having to type your password constantly.
If you add a shortcut to Pageant to your Autostart group and edit the shortcut
so that the command line includes an argument to your private key then Pageant
will load the key every time you log in.</p>
</div>
</div>
<div class="section" id="can-i-make-commits-from-machines-other-than-the-one-i-generated-the-keys-on">
<h3><a class="toc-backref" href="#id60">22. Can I make commits from machines other than the one I generated the keys on?</a><a class="headerlink" href="#can-i-make-commits-from-machines-other-than-the-one-i-generated-the-keys-on" title="Permalink to this headline">¶</a></h3>
<p>You can <a class="reference internal" href="#hg-commit"><em>make commits</em></a> from any machine, since they will be
recorded in your <em>local repository</em>.</p>
<p>However, to push these changes to the remote server, you will need proper
credentials.  All you need is to make sure that the machine you want to
push changes from has both the public and private keys in the standard
place that ssh will look for them (i.e. ~/.ssh on Unix machines).
Please note that although the key file ending in .pub contains your
user name and machine name in it, that information is not used by the
verification process, therefore these key files can be moved to a
different computer and used for verification.  Please guard your keys
and never share your private key with anyone.  If you lose the media
on which your keys are stored or the machine on which your keys are
stored, be sure to report this to <a class="reference external" href="mailto:pydotorg&#37;&#52;&#48;python&#46;org">pydotorg<span>&#64;</span>python<span>&#46;</span>org</a> at the same time
that you change your keys.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">22. Jython Developer FAQ</a><ul>
<li><a class="reference internal" href="#communications">22.1. Communications</a></li>
<li><a class="reference internal" href="#version-control">22.2. Version Control</a></li>
<li><a class="reference internal" href="#ssh">22.3. SSH</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="emacs.html"
                        title="previous chapter">21. Emacs support</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="releasejython.html"
                        title="next chapter">23. How To Release Jython</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/faq.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="releasejython.html" title="23. How To Release Jython"
             >next</a> |</li>
        <li class="right" >
          <a href="emacs.html" title="21. Emacs support"
             >previous</a> |</li>
        <li><a href="index.html">Jython Developer&#39;s Guide </a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011-2014, Python Software Foundation.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>